{% extends "base.html" %}
{% block page_content %}
    <div class="row">

        <div class="col-md-3">
            left
        </div>

        <div class="col-md-6">

            {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <br>
                    <div class="alert alert-success">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                    {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
            {% endwith %}
            <h1>My Story</h1>
            {% if current_user.is_authenticated() %}
                {{ current_user.username }}
            {% endif %}
            <hr>
            <form role="form" action="add_story" method="POST">
                {{ form.hidden_tag() }}
                <div class="form-group">
                    {{ form.title(class='form-control', placeholder='标题') }}
                    {% for error in form.errors.title %}
                        <span class="text-danger">{{error}}</span>
                    {% endfor %}
                </div>
                <div class="form-group">
                    <br>{{ form.content(class='form-control', rows=8, placeholder='内容') }}
                    {% for error in form.content.errors %}
                        <span class="text-danger">{{error}}</span>
                    {% endfor %}
                </div>
                <div class="form-group">
                    {{ form.author(class='form-control', placeholder='作者') }}
                    {% for error in form.errors.author %}
                        <span class="text-danger">{{error}}</span>
                    {% endfor %}
                </div>
                <div class="form-group">
                    {{ form.nick_name(class='form-control', placeholder='昵称') }}
                    {% for error in form.nick_name.errors %}
                        <span class="text-danger">{{error}}</span>
                    {% endfor %}
                </div>
                <div class="form-group">
                    {{ form.category(class='form-control') }}
                    {% for error in form.category.errors %}
                        <span class="text-danger">{{error}}</span>
                    {% endfor %}
                </div>
                <button class="btn btn-success btn-lg" type="submit">提交</button>
                <button class="btn btn-danger btn-lg" type="reset">重置</button>
                <a href="{{ url_for('show_storys') }}" role="button" class="btn btn-default btn-lg">查看所有故事</a>
            </form>
            <br>

        </div>


        <div class="col-md-3">

        </div>
    </div>
{% endblock %}